<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Sign PDF Online Free (Offline & Private) | PDFECTA</title>
  <meta name="description" content="Sign PDF files directly in your browser. Draw your signature, place it on the PDF, and download. No uploads. 100% private." />

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>

  <style>
    canvas { touch-action: none; }
  </style>
</head>

<body class="bg-slate-50 text-slate-900">

<!-- HEADER -->
<header class="sticky top-0 z-50 bg-white border-b">
  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
    <a href="/" class="flex items-center gap-2 font-extrabold text-xl">
      <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center text-white">P</div>
      PDFECTA
    </a>
    <nav class="hidden md:flex space-x-8 text-sm font-semibold text-slate-600">
      <a href="/#suite" class="hover:text-indigo-600">All Tools</a>
      <a href="/#why" class="hover:text-indigo-600">Why Private?</a>
      <a href="/#faq" class="hover:text-indigo-600">FAQ</a>
    </nav>
  </div>
</header>

<!-- MAIN -->
<main class="pt-24 bg-slate-50">
  <div class="max-w-4xl mx-auto p-8 bg-white rounded-2xl shadow space-y-8">

    <!-- TITLE -->
    <div class="text-center">
      <h1 class="text-4xl font-extrabold mb-3">Sign PDF</h1>
      <p class="text-slate-600">
        Draw your signature and add it to your PDF — fully offline and private.
      </p>
    </div>

    <!-- UPLOAD -->
    <div>
      <label class="block font-semibold mb-2">Upload PDF</label>
      <input id="pdfInput" type="file" accept="application/pdf"
        class="w-full border rounded p-2" />
    </div>

    <!-- SIGNATURE PAD -->
    <div>
      <label class="block font-semibold mb-2">Draw Signature</label>
      <canvas id="sigPad" width="400" height="150"
        class="border rounded w-full bg-white"></canvas>

      <div class="flex gap-4 mt-3">
        <button onclick="clearSignature()"
          class="px-4 py-2 text-sm rounded bg-slate-200 hover:bg-slate-300">
          Clear
        </button>
      </div>
    </div>

    <!-- ACTION -->
    <button onclick="signPDF()"
      class="bg-indigo-600 text-white py-3 rounded-lg font-semibold hover:bg-indigo-700">
      Sign & Download PDF
    </button>

    <p id="status" class="text-sm text-slate-500"></p>

  </div>
</main>

<!-- FOOTER -->
<footer class="bg-white border-t border-slate-200 mt-24">
  <div class="max-w-7xl mx-auto px-6 py-10 text-sm text-slate-500">
    © 2026 PDFECTA · support@pdfecta.com
  </div>
</footer>

<script>
/* ===== SIGNATURE DRAWING ===== */
const canvas = document.getElementById("sigPad");
const ctx = canvas.getContext("2d");
let drawing = false;

canvas.addEventListener("mousedown", () => drawing = true);
canvas.addEventListener("mouseup", () => drawing = false);
canvas.addEventListener("mouseleave", () => drawing = false);
canvas.addEventListener("mousemove", draw);

canvas.addEventListener("touchstart", e => {
  drawing = true;
  draw(e.touches[0]);
});
canvas.addEventListener("touchend", () => drawing = false);
canvas.addEventListener("touchmove", e => {
  draw(e.touches[0]);
  e.preventDefault();
});

function draw(e) {
  if (!drawing) return;
  const rect = canvas.getBoundingClientRect();
  ctx.lineWidth = 2;
  ctx.lineCap = "round";
  ctx.strokeStyle = "#000";
  ctx.lineTo(e.clientX - rect.left, e.clientY - rect.top);
  ctx.stroke();
  ctx.beginPath();
  ctx.moveTo(e.clientX - rect.left, e.clientY - rect.top);
}

function clearSignature() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  ctx.beginPath();
}

/* ===== SIGN PDF ===== */
async function signPDF() {
  const fileInput = document.getElementById("pdfInput");
  const status = document.getElementById("status");

  if (!fileInput.files.length) {
    status.textContent = "Please upload a PDF.";
    return;
  }

  status.textContent = "Signing PDF locally...";

  const pdfBytes = await fileInput.files[0].arrayBuffer();
  const pdfDoc = await PDFLib.PDFDocument.load(pdfBytes);

  const pngData = canvas.toDataURL("image/png");
  const pngImage = await pdfDoc.embedPng(pngData);

  const page = pdfDoc.getPages()[0];
  const { width } = page.getSize();

  page.drawImage(pngImage, {
    x: width / 2 - 100,
    y: 50,
    width: 200,
    height: 80
  });

  const signedPdf = await pdfDoc.save();
  const blob = new Blob([signedPdf], { type: "application/pdf" });
  const url = URL.createObjectURL(blob);

  const a = document.createElement("a");
  a.href = url;
  a.download = "signed.pdf";
  a.click();

  status.textContent = "Signed PDF downloaded.";
}
</script>

</body>
</html>
